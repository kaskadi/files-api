handler: lambdas/get-files/get-files.handler
name: get-files
layers:
  - { Ref: ApiLayerLambdaLayer }
package:
  include:
    - lambdas/get-files/get-files.js
    - lambdas/get-files/helpers/**
events:
  - http:
      method: get
      path: /
      cors: true
      authorizer:
        type: COGNITO_USER_POOLS
        authorizerId: !Ref CognitoAuthorizer
      kaskadi-docs:
        description: This endpoint allows user to retrieve the list of files located at a given path inside of Kaskadi's public AWS S3 bucket.
        queryStringParameters:
          - key: path
            description: Path from where we would like to list files.
            default: /
